# QAP_Module_23_Task_23_6_1_PytonTests
Решение к заданию 23.6.1 23 модуля курса QAP SkillFactory

Задание 23.6.1

Написать и протестировать Telegram-бота, в котором будет реализован следующий функционал:

Бот возвращает цену на определённое количество валюты (евро, доллар или рубль).
При написании бота необходимо использовать библиотеку pytelegrambotapi.
Человек должен отправить сообщение боту в виде <имя валюты цену которой он хочет узнать> <имя валюты в которой надо узнать цену первой валюты> <количество первой валюты>.
При вводе команды /start или /help пользователю выводятся инструкции по применению бота.
При вводе команды /values должна выводиться информация о всех доступных валютах в читаемом виде.
Для взятия курса валют необходимо использовать API и отправлять к нему запросы с помощью библиотеки Requests.
Для парсинга полученных ответов использовать библиотеку JSON.
При ошибке пользователя (например, введена неправильная или несуществующая валюта или неправильно введено число) вызывать собственно написанное исключение APIException с текстом пояснения ошибки.
Текст любой ошибки с указанием типа ошибки должен отправляться пользователю в сообщения.
Для отправки запросов к API описать класс со статическим методом get_price(), который принимает три аргумента: имя валюты, цену на которую надо узнать, — base, имя валюты, цену в которой надо узнать, — quote, количество переводимой валюты — amount и возвращает нужную сумму в валюте.
Токен telegramm-бота хранить в специальном конфиге (можно использовать .py файл).
Все классы спрятать в файле extensions.py.

РЕШЕНИЕ:

Телеграм-бот для конвертации валют. Имя в телеграме @TiCryptoBot

Телеграм-бот знает команды:

1. /start или /help - в ответ бот выдает инструкцию по работе с ботом;
2. /values - в ответ бот выдает все валюты, которые он знает;
3. <валюта 1> <валюта 2> <количество> выводит значение количества валюты 2 от валюты 1.

Реализация бота:

1. Для взятия курса валют используется API https://min-api.cryptocompare.com. 
2. Запросы к API отправляются с помощью библиотеки Requests.
3. При ошибке пользователя (не верно ввведена информация, с ошибками или не соответствует инструкциям бота) бот выдает сообщение с текстом пояснения ошибки.
4. Код обработчика  содержится в файле currency_convertor_bot.py
5. Токен бота хранится в файле config.py.
6. Все классы описаны в файле extensions.py.
